# Skip Test Types Example

## What This Demonstrates

This example shows how to selectively skip different test types using `--skip-*` flags:

- `--skip-autogenerated` - Skip `test.sh` tests
- `--skip-scenarios` - Skip all scenario tests
- `--skip-duplicated` - Skip duplicate/idempotence tests

## Key Behavior

Each skip flag is independent and can be combined:

```sh
# Skip only autogenerated tests
deacon features test . --skip-autogenerated

# Skip only scenarios
deacon features test . --skip-scenarios

# Skip only duplicate tests
deacon features test . --skip-duplicated

# Combine multiple skip flags
deacon features test . --skip-autogenerated --skip-duplicated
```

## Mutual Exclusivity Rules

- `--skip-scenarios` cannot be combined with `--filter` (no scenarios to filter)
- `--skip-scenarios` cannot be combined with `--global-scenarios-only` (contradictory)

## Use Cases

### CI Optimization
```sh
# Run only scenarios in one job
deacon features test . --skip-autogenerated --skip-duplicated

# Run only autogenerated and duplicate tests in another
deacon features test . --skip-scenarios
```

### Debugging
```sh
# Skip slow duplicate tests during development
deacon features test . --skip-duplicated

# Focus on scenario-specific issues
deacon features test . --skip-autogenerated --skip-duplicated
```

### Subset Testing
```sh
# Quick smoke test (autogenerated only)
deacon features test . --skip-scenarios --skip-duplicated
```

## Example Commands

```sh
# Test all features but skip duplicate tests
deacon features test . --skip-duplicated

# Run only feature-specific scenarios (skip autogen, dupe, and global)
deacon features test . --features my-feature --skip-autogenerated --skip-duplicated

# Skip scenarios entirely (run autogen + duplicate)
deacon features test . --skip-scenarios
```

## Expected Output (--skip-scenarios)

```text
Running features test suite...

Autogenerated Tests:
  ✓ web-server

Duplicate/Idempotence Tests:
  ✓ web-server (duplicate/idempotence)

Summary: 2 tests, 2 passed, 0 failed

Note: Scenarios skipped (--skip-scenarios)
```

## Collection Structure

```
skip-test-types/
├── src/
│   └── web-server/
└── test/
    └── web-server/
        ├── test.sh              # Skipped with --skip-autogenerated
        ├── scenarios.jsonc      # Skipped with --skip-scenarios
        └── test_scenario.sh     # Skipped with --skip-scenarios
```

## Test Type Matrix

| Flag | Autogenerated | Scenarios | Duplicate | Global |
|------|---------------|-----------|-----------|--------|
| (none) | ✓ | ✓ | ✓ | ✓ |
| `--skip-autogenerated` | ✗ | ✓ | ✓ | ✓ |
| `--skip-scenarios` | ✓ | ✗ | ✓ | ✗ |
| `--skip-duplicated` | ✓ | ✓ | ✗ | ✓ |

## Related Examples

- `basic-test-suite/` - All test types running
- `feature-selection/` - Select specific features
- `scenario-filtering/` - Filter scenarios (incompatible with --skip-scenarios)
