[package]
name = "deacon"
version = "0.1.0"
edition.workspace = true
license.workspace = true
authors.workspace = true

[dependencies]
clap.workspace = true
anyhow.workspace = true
thiserror.workspace = true
tracing.workspace = true
tracing-subscriber.workspace = true
tracing-error.workspace = true
color-eyre.workspace = true
once_cell.workspace = true

[features]
default = []
config = ["dep:serde", "dep:toml"]

[dependencies.serde]
version = "1.0"
features = ["derive"]
optional = true

[dependencies.toml]
version = "0.8"
optional = true

[lints]
workspace = true

[dev-dependencies]
assert_cmd = "2.0"
predicates = "3.1"
tempfile = "3.21"
insta = { version = "1.43", features = ["yaml" ] }
criterion = "0.5"

[[bench]]
name = "benchmark"
harness = false
